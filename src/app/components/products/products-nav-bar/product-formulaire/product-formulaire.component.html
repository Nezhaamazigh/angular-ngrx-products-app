<app-products-nav-bar></app-products-nav-bar>
<div class="container" *ngIf="productFormGroup">
  <ng-container *ngIf="state as data" [ngSwitch]="data.dataState" >
    <ng-container *ngSwitchCase="productStateEnum.LOADING">
      Loading .....
    </ng-container>
    <ng-container *ngSwitchCase="productStateEnum.ERROR">
      <div class="alert-danger">
        {{data.errormessage}}
      </div>
    </ng-container>

<!--    <ng-container *ngSwitchCase="productStateEnum.SUCCESS">-->
<!--      <div class="alert-success container p-3 m-3"><span>Product successfully Saved</span>-->
<!--      <button (click)="onNewProduct()"  class="btn btn-sm btn-success ml-3">New</button></div>-->
<!--    </ng-container>-->
    <ng-container *ngSwitchCase="productStateEnum.NEW ||productStateEnum.SUCCESS">

  <form [formGroup]="productFormGroup" (ngSubmit)="onSaveProduct()">
    <div class="form-group">
      <label>Name</label>
      <input type="text" class="form-control" formControlName="name"
             [ngClass]="{'is-invalid':submitted && productFormGroup.controls.name.errors}">

      <div *ngIf="submitted && productFormGroup.controls.name.errors" class="invalid-feedback">
        <div *ngIf="productFormGroup.controls.name.errors.required">Name is Required</div>
      </div>
    </div>
    <div class="form-group">
      <label>Price</label>
      <input type="text" class="form-control" formControlName="price">
    </div>
    <div class="form-group">
      <label>Quantity</label>
      <input type="text" class="form-control" formControlName="quantity">
    </div>
    <div class="form-group">
      <label>Selected</label>
      <input type="checkbox" formControlName="selected" class="form-check">
    </div>
    <div class="form-group">
      <label>Available</label>
      <input type="checkbox" formControlName="available" class="form-check">
    </div>
    <button class="btn btn-success" (click)="onSaveProduct()">Save</button>
  </form></ng-container></ng-container></div>
